<div class="wrapper">
    <div class="header">
        <h1>Inputs</h1>
        <i class="material-icons" (click)="isEdit=!isEdit">{{ isEdit ? 'close' : 'add' }}</i>
    </div>
    <div class="content-card" [ngStyle]="{'height': isEdit ? '100%' : 'calc(100% - 127px)'}">
        <div *ngIf="!isEdit">
            <h2 class="title">Analog</h2>
            <table>
                <tr *ngFor="let input of Inputs.AnalogInputs">
                    <td class="address-wrapper">
                        <p class="address-label">A{{input.Address}}</p>
                    </td>
                    <td class="basic-td">
                        <div class="info">
                            <p class="info-title">{{input.Name}} â€¢ {{ input.ScanOn ? "On" : "Off" }}</p>
                            <p class="info-value" *ngIf="input.ScanOn">{{input.Value}}{{input.Unit}}</p>
                        </div>
                    </td>
                    <td  
                        class="alarm" 
                        *ngFor="let alarm of input.Alarms">
                        <div class="alarm-info">
                            <div class="alarm-treshold">
                                <p style="font-size: 24px;">{{ alarm.Type == 0 ? "ðŸ — " : "ðŸ • " }}{{alarm.Treshold}}</p>
                            </div>
                            <p class="alarm-priority minor-alarm">
                                {{ alarm.Priority === 1 ? "MINOR" : alarm.Priority === 2 ? "MEDIUM" : "URGENT" }}
                            </p>
                        </div>
                    </td>
                </tr>
            </table>
            <h2 class="title" style="margin-top: 0;">Digital</h2>
            <div class="digital-inputs">
                <div class="digital-item" *ngFor="let input of Inputs.DigitalInputs">
                    <div class="center-text address-wrapper" style="padding: 2px;">
                        <p class="address-label">A{{input.Address}}</p>
                    </div>
                    <div class="center-text info basic-td" style="border-radius: 0 10px 10px 0;">
                        <p class="info-title">{{input.Name}} â€¢ {{ input.ScanOn ? "On" : "Off" }}</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="edit-box" *ngIf="isEdit">

            <div class="mydict" style="margin-bottom: 30px;">
                <div>
                <label>
                    <input type="radio" name="type" [(ngModel)]="isAnalog" [value]="true">
                    <span>Analog</span>
                </label>
                <label>
                    <input type="radio" name="type" [(ngModel)]="isAnalog" [value]="false">
                    <span>Digital</span>
                </label>
                </div>
            </div>
              
            <!-- name and address -->
            <div class="two-el-box">
                <input type="text" name="name" class="input" placeholder="Name">
                <mat-form-field appearance="outline" style="margin-bottom: -1.4em; max-height: 40px">
                    <mat-label>Address</mat-label>
                    <mat-select style="max-height: 40px">
                        <mat-option value="one">First option</mat-option>
                        <mat-option value="two">Second option</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            <!-- scan time and driver -->
            <div class="two-el-box">
                <input type="text" name="name" class="input" placeholder="Scan Time">
                <mat-form-field appearance="outline" style="margin-bottom: -1.4em; max-height: 40px">
                    <mat-label>Driver</mat-label>
                    <mat-select style="max-height: 40px">
                        <mat-option value="one">Sin</mat-option>
                        <mat-option value="two">Cos</mat-option>
                        <mat-option value="two">Ramp</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>

            <!-- only analog part -->
            <div *ngIf="isAnalog">
                <div class="three-el-box">
                    <input type="number" name="name" class="input" placeholder="Min">
                    <input type="number" name="name" class="input" placeholder="Max">
                    <input type="text" name="name" class="input" placeholder="Unit">
                </div>
                
                <h2 class="mini-title">Alarms</h2>
                <!-- list of new alarms -->
                <div style="display: flex;">
                    <div class="alarm" style="margin-right: 10px;" *ngFor="let alarm of newAlarms">
                        <div class="alarm-info">
                            <div class="alarm-treshold">
                                <p style="font-size: 24px;">{{ alarm.Type == 0 ? "ðŸ — " : "ðŸ • " }}{{alarm.Treshold}}</p>
                            </div>
                            <p class="alarm-priority minor-alarm">
                                {{ alarm.Priority === 1 ? "MINOR" : alarm.Priority === 2 ? "MEDIUM" : "URGENT" }}
                            </p>
                        </div>
                    </div>
                </div>
                <!-- adding new alarm -->
                <div *ngIf="isAnalog" class="four-el-box">
                    <input type="number" name="name" class="input" placeholder="Treshold">
                    <mat-form-field appearance="outline" style="margin-bottom: -1.4em; max-height: 40px">
                        <mat-label>Type</mat-label>
                        <mat-select style="max-height: 40px">
                            <mat-option value="0">Low</mat-option>
                            <mat-option value="1">Hight</mat-option>
                        </mat-select>
                    </mat-form-field>
                    <mat-form-field appearance="outline" style="margin-bottom: -1.4em; max-height: 40px">
                        <mat-label>Priority</mat-label>
                        <mat-select style="max-height: 40px">
                            <mat-option value="1">Minor</mat-option>
                            <mat-option value="2">Medium</mat-option>
                            <mat-option value="3">Urgent</mat-option>
                        </mat-select>
                    </mat-form-field>
                    <div class="center-icon">
                        <i class="material-icons">add</i>
                    </div>
                </div>
            </div>  
            
            <div class="button-container">
                <button mat-flat-button color="primary" class="t">Add Input</button>
            </div>
        </div>
    </div>
</div>
